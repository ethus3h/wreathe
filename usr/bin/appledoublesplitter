#!/bin/bash
#10 April 2014. Version 2, 5 April 2014. Note: In both the first version of this script and this version of this script, the 10 April 2014 date is a mistake, and should be 5 April 2014 (today).
#Based on filenames-for-mac.v2
#Prepare filenames in the given directory for transfer to Mac OS X. Does not distinguish case-sensitive files.
NOW=`date -u +%Y.%m.%d.%H.%M.%S.%N.%Z`;
find $1 -depth -name '.._*' &> UnAppleDoubles.out.$NOW.txt
find $1 -depth -name '.._*' -execdir bash -c 'mv "$1" "${1//.._/._}"' _ {} \;
#find $1 -depth -name '.AppleDouble' &> AppleDoubleFolders.out.$NOW.txt
#find $1 -depth -name '.AppleDouble' -execdir bash -c 'mv "$1" "${1//.AppleDouble/.AppleDoubleFolder}"' _ {} \;
echo "Done."
